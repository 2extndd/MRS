# üöÇ –ì–∞–π–¥ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –¥–µ–ø–ª–æ—è –Ω–∞ Railway

## üìä –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω–∏–π

‚úÖ **Commit 1:** `b145d39` - –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (1000+ —Å—Ç—Ä–æ–∫)
‚úÖ **Commit 2:** `52abff1` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω datetime –∫–æ–Ω—Ñ–ª–∏–∫—Ç
‚úÖ **Push:** –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ GitHub
‚úÖ **Railway:** –î–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:
```
https://railway.app/project/f17da572-14c9-47b5-a9f1-1b6d5b6dea2d
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"Deployments"**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π (—Å–∞–º—ã–π –≤–µ—Ä—Ö–Ω–∏–π)
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
   - **Commit:** `52abff1` –∏–ª–∏ –ø–æ–∑–∂–µ
   - **Commit message:** "Fix: datetime variable conflict in scheduler heartbeat"
   - **Status:** ‚úÖ **Success** (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
   - **Time:** –ù–µ–¥–∞–≤–Ω–µ–µ –≤—Ä–µ–º—è (–≤ —Ç–µ—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10-15 –º–∏–Ω—É—Ç)

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
2. –ù–∞–∂–º–∏—Ç–µ **"View Logs"** –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **"Logs"**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –∫ –Ω–∞—á–∞–ª—É –ª–æ–≥–æ–≤ (–∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –ª–æ–≥–∞—Ö

**‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã:**

```
‚úÖ Background scheduler thread started with auto-restart
‚úÖ Health check monitor started
‚úÖ [SCHEDULER] ‚è∞ Entering main loop...
‚úÖ [SCHEDULER] Jobs scheduled: 4
‚úÖ [SCHEDULER] ‚è∞ First iteration starting...
‚úÖ [SCHEDULER] ‚è∞ First run_pending() completed
```

**‚úÖ –ü—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

```
‚úÖ [SCHEDULER] ‚è∞ Loop alive! Iteration X
‚úÖ [SEARCH] Starting search cycle at ...
‚úÖ [TELEGRAM] Processing pending notifications...
‚úÖ [DB] Connected to database (PostgreSQL)
```

**‚ö†Ô∏è –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –ø—Ä–æ–±–ª–µ–º–∞):**

```
‚ö†Ô∏è Configuration warnings (some features may not work):
   - TELEGRAM_BOT_TOKEN is required
   - TELEGRAM_CHAT_ID is required
```

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ Telegram –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Web UI.

---

## üéØ –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –∑–Ω–∞–∫–∏

| –õ–æ–≥ | –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç |
|-----|--------------|
| `[SCHEDULER] ‚è∞ Entering main loop...` | Scheduler –∑–∞–ø—É—Å—Ç–∏–ª—Å—è |
| `[SCHEDULER] Jobs scheduled: 4` | –í—Å–µ –∑–∞–¥–∞—á–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã |
| `[HEALTH] Health check monitor started` | Health monitor —Ä–∞–±–æ—Ç–∞–µ—Ç |
| `[SCHEDULER] ‚è∞ Loop alive! Iteration X` | Scheduler —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É) |
| `[SEARCH] Completed at ...` | –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å —É—Å–ø–µ—à–Ω–æ |
| `[TELEGRAM] Sent X/Y notifications` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è |

### üîÑ –ü—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∞–±–æ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –õ–æ–≥ | –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç |
|-----|--------------|
| `[DB] Connection check failed: ..., reconnecting...` | –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ |
| `[DB] ‚úÖ Reconnected to PostgreSQL` | –£—Å–ø–µ—à–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ‚úÖ |
| `[SEARCH] Error (attempt 1/3): ...` | Retry –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ |
| `[SEARCH] Retrying in 5 seconds...` | Exponential backoff —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ |
| `[CONFIG] ‚ö†Ô∏è Failed to reload config: ...` | –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å –∫—ç—à–µ–º ‚úÖ |
| `[HEALTH] ‚ùå Scheduler thread is DEAD! Restarting...` | –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ |

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)

| –õ–æ–≥ | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|-----|------------|
| `[DB ERROR] ‚ùå Failed to reconnect:` –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DATABASE_URL |
| `[SEARCH] All retry attempts exhausted` —á–∞—Å—Ç–æ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API Mercari |
| `Application crashed: ...` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ | –°–æ–æ–±—â–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É |

---

## üìà –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è

### –ß–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- [ ] –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∏–¥–∏—Ç–µ `[SCHEDULER] ‚è∞ Loop alive! Iteration X`
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ X —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è (60, 120, 180...)

### –ß–µ—Ä–µ–∑ 1 —á–∞—Å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- [ ] –û—Ç–∫—Ä–æ–π—Ç–µ Web UI: `https://your-app.railway.app/dashboard`
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∏—Å–∫–æ–≤
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–æ–≤—ã–µ items –Ω–∞—Ö–æ–¥—è—Ç—Å—è

### –ß–µ—Ä–µ–∑ 6 —á–∞—Å–æ–≤:
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

### –ß–µ—Ä–µ–∑ 24 —á–∞—Å–∞:
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ Web UI

---

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Railway CLI:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ø—Ä–æ–µ–∫—Ç—É
railway link -p f17da572-14c9-47b5-a9f1-1b6d5b6dea2d

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä —Å–µ—Ä–≤–∏—Å–∞)
railway logs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
railway status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
railway restart
```

---

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –≤–∏–∂—É –ª–æ–≥–æ–≤ "Health check monitor started"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ª–æ–≥–∞–º–∏
4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ—Ç - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ Railway Dashboard

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ "Failed to reconnect to database"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ DATABASE_URL –Ω–µ –∏—Å—Ç–µ–∫ (Railway –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –∞–¥—Ä–µ—Å–∞)

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ items

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Web UI ‚Üí Queries
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 300 —Å–µ–∫—É–Ω–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–æ–≥–∏ –Ω–∞ `[SEARCH] Starting search cycle at ...`

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `FIX_AUTOSTART_ISSUES.md`
- **–ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞:** `QUICK_FIX_SUMMARY.md`
- **–ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è:** `DEPLOYMENT_CHECKLIST.md`

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–º–µ—Ç—å—Ç–µ:

- [ ] –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
- [ ] –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å `[SCHEDULER] ‚è∞ Entering main loop...`
- [ ] –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å `[HEALTH] Health check monitor started`
- [ ] –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å `[SCHEDULER] Jobs scheduled: 4`
- [ ] –ß–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç –≤–∏–¥–Ω–æ `[SCHEDULER] ‚è∞ Loop alive! Iteration X`
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –æ—Ç–º–µ—á–µ–Ω—ã - **üéâ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢ –û–¢–õ–ò–ß–ù–û!**

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024-11-23
**–í–µ—Ä—Å–∏—è:** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
**Commits:** b145d39, 52abff1
