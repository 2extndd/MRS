# üîç –ê–Ω–∞–ª–∏–∑: –ü—Ä–æ–∫—Å–∏ —Ç–∞–π–º–∞—É—Ç—è—Ç –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ Mercari CDN

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ò–î–ï–ê–õ–¨–ù–û:
- ‚úÖ –ü–æ–∏—Å–∫ items: 6/6 items –Ω–∞–π–¥–µ–Ω—ã
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ë–ï–ó –ø—Ä–æ–∫—Å–∏: 6/6 —É—Å–ø–µ—à–Ω–æ (3-7 KB –∫–∞–∂–¥–æ–µ)
- ‚úÖ –ö–æ–¥ –ø—Ä–æ–∫—Å–∏: –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: pyMercariAPI —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚ùå –í–°–ï –ø—Ä–æ–∫—Å–∏ —Ç–∞–π–º–∞—É—Ç—è—Ç (6/6 –ø–æ–ø—ã—Ç–æ–∫)
- ‚ùå –û–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –ø—Ä–æ–∫—Å–∏ —Ç–∞–π–º–∞—É—Ç—è—Ç:
  - `ip:port:user:pass` ‚Üí timeout
  - `ip:port:user:pass:target` ‚Üí timeout
- ‚ùå –í—Å–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ (10+) - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üß™ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```
Item 1: m66150770940 - "archive grunge fur zip up"
Photo: https://static.mercdn.net/thumb/item/webp/m66150770940_1.jpg
  ‚úÖ WITHOUT proxy: 3.9 KB (—É—Å–ø–µ—Ö!)
  ‚ùå WITH proxy: timeout (5 —Å–µ–∫—É–Ω–¥)

Item 2: m27150404280 - "„Éñ„É´„Éº„Ç¢„Éº„Ç´„Ç§„Éñ „Ç¢„ÇØ„É™„É´„Çπ„Çø„É≥„Éâ"
Photo: https://static.mercdn.net/thumb/item/webp/m27150404280_1.jpg
  ‚úÖ WITHOUT proxy: 5.3 KB (—É—Å–ø–µ—Ö!)
  ‚ùå WITH proxy: timeout (5 —Å–µ–∫—É–Ω–¥)

... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö 6 items
```

## ü§î –ê–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏:

### –ü–æ—á–µ–º—É –ø—Ä–æ–∫—Å–∏ —Ç–∞–π–º–∞—É—Ç—è—Ç?

**–í–µ—Ä—Å–∏—è 1: Residential –ø—Ä–æ–∫—Å–∏ —Ç—Ä–µ–±—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
- Webshare.io residential –ø—Ä–æ–∫—Å–∏ –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å:
  - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ headers (X-Proxy-Session)
  - Sticky sessions (—Ñ–∏–∫—Å–∞—Ü–∏—è IP –Ω–∞ –≤—Ä–µ–º—è)
  - Whitelist IP (–¥–æ–±–∞–≤–∏—Ç—å Railway IP –≤ whitelist)

**–í–µ—Ä—Å–∏—è 2: –ü—Ä–æ–±–ª–µ–º–∞ —Å HTTPS —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏**
- HTTPS —á–µ—Ä–µ–∑ HTTP proxy = CONNECT tunnel
- –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–∫—Å–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç CONNECT
- –ò–ª–∏ —Ç—Ä–µ–±—É—é—Ç SOCKS5 –≤–º–µ—Å—Ç–æ HTTP

**–í–µ—Ä—Å–∏—è 3: –ü—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ**
- 5 —Å–µ–∫—É–Ω–¥ timeout —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ
- Residential –ø—Ä–æ–∫—Å–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ (10-30 —Å–µ–∫)
- –ù—É–∂–µ–Ω –±–æ–ª—å—à–∏–π timeout

**–í–µ—Ä—Å–∏—è 4: Geo-restriction –Ω–∞ –ø—Ä–æ–∫—Å–∏**
- Webshare –ø—Ä–æ–∫—Å–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –¢–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∞–π—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- Mercari –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

## üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:

### –†–µ—à–µ–Ω–∏–µ 1: –£–≤–µ–ª–∏—á–∏—Ç—å timeout (–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –ü–ï–†–í–´–ú)

–¢–µ–∫—É—â–∏–π timeout: 5 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: 30-60 —Å–µ–∫—É–Ω–¥

```python
# –í image_utils.py –∏–∑–º–µ–Ω–∏—Ç—å:
response = requests.get(
    image_url,
    proxies=proxies,
    headers=headers,
    timeout=60  # ‚Üê –ë—ã–ª–æ 10, —Å—Ç–∞–ª–æ 60
)
```

### –†–µ—à–µ–Ω–∏–µ 2: –î–æ–±–∞–≤–∏—Ç—å Railway IP –≤ whitelist Webshare

1. –ü–æ–ª—É—á–∏—Ç—å Railway IP:
```bash
railway run curl ifconfig.me
```

2. –î–æ–±–∞–≤–∏—Ç—å –≤ Webshare Dashboard:
   - Settings ‚Üí IP Whitelist
   - –î–æ–±–∞–≤–∏—Ç—å Railway IP

3. Restart Worker

### –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sticky sessions

Webshare residential –ø—Ä–æ–∫—Å–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç sticky sessions:

```python
# –§–æ—Ä–º–∞—Ç —Å session ID
proxy = "http://user-session-123456:pass@proxy.webshare.io:port"
```

–≠—Ç–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç IP –Ω–∞ 10 –º–∏–Ω—É—Ç

### –†–µ—à–µ–Ω–∏–µ 4: –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å SOCKS5

Residential –ø—Ä–æ–∫—Å–∏ —á–∞—Å—Ç–æ –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ SOCKS5:

```python
# –í–º–µ—Å—Ç–æ HTTP proxy
proxies = {
    'http': 'socks5://user:pass@ip:port',
    'https': 'socks5://user:pass@ip:port'
}
```

–¢—Ä–µ–±—É–µ—Ç: `pip install pysocks`

### –†–µ—à–µ–Ω–∏–µ 5: –†–∞–±–æ—Ç–∞—Ç—å –ë–ï–ó –ø—Ä–æ–∫—Å–∏ –Ω–∞ Railway (FASTEST)

**–§–∞–∫—Ç:** Railway IP –ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è Mercari!

–ú—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏ 6/6 —Ñ–æ—Ç–æ –ë–ï–ó –ø—Ä–æ–∫—Å–∏!

**–í—ã–≤–æ–¥:** –ù–∞ Railway –ø—Ä–æ–∫—Å–∏ –ù–ï –ù–£–ñ–ù–´ –¥–ª—è Mercari!

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –û—Ç–∫–ª—é—á–∏—Ç—å PROXY_ENABLED
2. –í—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏
3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

### –í–∞—Ä–∏–∞–Ω—Ç A: –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏ (–†–ï–ö–û–ú–ï–ù–î–£–Æ)

```python
# –í Railway Variables:
PROXY_ENABLED=false
```

**–ü–æ—á–µ–º—É:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (6/6 —Ñ–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ)
- ‚úÖ Railway IP –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è Mercari
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ (0.5 —Å–µ–∫ vs 30+ —Å–µ–∫)
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ

### –í–∞—Ä–∏–∞–Ω—Ç B: –£–≤–µ–ª–∏—á–∏—Ç—å timeout –¥–æ 60 —Å–µ–∫—É–Ω–¥

```python
# –í image_utils.py, proxies.py:
timeout = 60  # –í–º–µ—Å—Ç–æ 10
```

**–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:** –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∫—Å–∏ –ø—Ä–æ—Å—Ç–æ –º–µ–¥–ª–µ–Ω–Ω—ã–µ

### –í–∞—Ä–∏–∞–Ω—Ç C: –°–≤—è–∑–∞—Ç—å—Å—è —Å Webshare support

–°–ø—Ä–æ—Å–∏—Ç—å:
- –ü–æ—á–µ–º—É residential –ø—Ä–æ–∫—Å–∏ —Ç–∞–π–º–∞—É—Ç—è—Ç –Ω–∞ Mercari?
- –ù—É–∂–µ–Ω –ª–∏ whitelist Railway IP?
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ª–∏ SOCKS5?
- –ï—Å—Ç—å –ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Japan —Å–∞–π—Ç–æ–≤?

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚ö° **–ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï (5 –º–∏–Ω—É—Ç):**
   ```bash
   # –í Railway Dashboard:
   PROXY_ENABLED=false
   
   # Restart Worker
   # –í–°–Å –ó–ê–†–ê–ë–û–¢–ê–ï–¢!
   ```

2. üî¨ **–ï–°–õ–ò –ù–£–ñ–ù–´ –ü–†–û–ö–°–ò (–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å):**
   ```python
   # –£–≤–µ–ª–∏—á–∏—Ç—å timeout –≤ –∫–æ–¥–µ:
   timeout = 60  # —Å–µ–∫—É–Ω–¥
   
   # Restart –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
   ```

3. üìû **–ï–°–õ–ò –ù–ï –ü–û–ú–û–ì–õ–û:**
   - –°–≤—è–∑–∞—Ç—å—Å—è —Å Webshare support
   - –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–º–æ—á—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è Mercari

## üéâ –ì–õ–ê–í–ù–´–ô –í–´–í–û–î:

**–ù–ê RAILWAY –ü–†–û–ö–°–ò –ù–ï –ù–£–ñ–ù–´ –î–õ–Ø MERCARI!**

–ú—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª–∏ 6 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ë–ï–ó –ø—Ä–æ–∫—Å–∏.
Railway IP –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è Cloudflare –Ω–∞ Mercari CDN.

**–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

---

**P.S.** –ï—Å–ª–∏ –≤—ã –≤—Å—ë —Ä–∞–≤–Ω–æ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ (–¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏ –∏–ª–∏ rate limit), —Ç–æ:
1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å timeout –¥–æ 60 —Å–µ–∫
2. –î–æ–±–∞–≤—å—Ç–µ Railway IP –≤ whitelist –Ω–∞ Webshare
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ SOCKS5 –≤–º–µ—Å—Ç–æ HTTP

–ù–æ –¥–ª—è Mercari —ç—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
