# üöÄ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (–∑–∞–ø—É—Å—Ç–∏—Ç—å `python3 tmp_rovodev_test_fixes.py`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [ ] –°–¥–µ–ª–∞—Ç—å backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ)

## –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –®–∞–≥ 1: Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
git add .
git commit -m "Fix: Auto-restart cycle breaking issues - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, retry –º–µ—Ö–∞–Ω–∏–∑–º—ã, health check monitor"
git push origin main
```

### –®–∞–≥ 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ—è
- [ ] –û—Ç–∫—Ä—ã—Ç—å Railway Dashboard
- [ ] –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "Deployments"
- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (–ø–µ—Ä–≤—ã–µ 10-15 –º–∏–Ω—É—Ç)
- [ ] –û—Ç–∫—Ä—ã—Ç—å –ª–æ–≥–∏ –≤ Railway
- [ ] –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫–∏:
  ```
  ‚úÖ Background scheduler thread started with auto-restart
  ‚úÖ Health check monitor started
  [SCHEDULER] ‚è∞ Entering main loop...
  ```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Ü–∏–∫–ª–æ–≤
–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 5-10 –º–∏–Ω—É—Ç:
- [ ] `[SCHEDULER] ‚è∞ Loop alive! Iteration X` (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
- [ ] `Starting search cycle at ...` (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- [ ] `[TELEGRAM] Processing pending notifications...` (–∫–∞–∂–¥—ã–µ 35 —Å–µ–∫—É–Ω–¥)

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –î–µ–Ω—å 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ß–µ—Ä–µ–∑ 1 —á–∞—Å: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ - –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- [ ] –ß–µ—Ä–µ–∑ 6 —á–∞—Å–æ–≤: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–∏–∫–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ß–µ—Ä–µ–∑ 24 —á–∞—Å–∞: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –ë–î

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤
railway logs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –ë–î (—á–µ—Ä–µ–∑ web UI)
# –û—Ç–∫—Ä—ã—Ç—å http://your-app.railway.app/dashboard
```

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤ –ª–æ–≥–∞—Ö

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –∑–Ω–∞–∫–∏:
- `[DB] ‚úÖ Reconnected to PostgreSQL` - –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `[SCHEDULER] ‚è∞ Loop alive!` - scheduler —Ä–∞–±–æ—Ç–∞–µ—Ç
- `[SEARCH] Completed at ...` - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
- `[TELEGRAM] Sent X/Y notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

### ‚ö†Ô∏è –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –¥–µ–π—Å—Ç–≤–∏–π):
- `[DB] Connection check failed: ..., reconnecting...` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- `[SEARCH] Error (attempt 1/3): ...` - retry —Ä–∞–±–æ—Ç–∞–µ—Ç
- `[CONFIG] ‚ö†Ô∏è Failed to reload config: ...` - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –∫—ç—à–µ–º

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è):
- `[DB ERROR] ‚ùå Failed to reconnect:` –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫
- `[SEARCH] All retry attempts exhausted` —á–∞—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
- `[HEALTH] ‚ùå Scheduler thread is DEAD!` –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥

## Rollback (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

### –û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é:
```bash
# –í Railway Dashboard:
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ "Deployments"
# 2. –ù–∞–π—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π
# 3. –ù–∞–∂–∞—Ç—å "Redeploy"

# –ò–ª–∏ —á–µ—Ä–µ–∑ git:
git revert HEAD
git push origin main
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `FIX_AUTOSTART_ISSUES.md`
- –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞: `QUICK_FIX_SUMMARY.md`

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2024
**–í–µ—Ä—Å–∏—è**: 1.0 (–ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)
