# ‚úÖ Deployment Checklist - Railway

**Date:** 2025-01-XX  
**Commit:** 57c626b  
**Status:** üöÄ Deployed to Railway

---

## üì¶ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –æ–±–Ω–æ–≤–ª—ë–Ω ‚úÖ
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Å–∫–∞–Ω–µ—Ä–∞
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ (`core.py:390-418`)
- Scheduler –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç (`wsgi.py:36-76`)
- Hot reload —Ä–∞–±–æ—Ç–∞–µ—Ç (60s interval)

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ
- –°–æ–∑–¥–∞–Ω `AGENTS.md` - AI Memory —Ñ–∞–π–ª (+409 —Å—Ç—Ä–æ–∫)
- –£–¥–∞–ª–µ–Ω–æ 10 —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (-2071 —Å—Ç—Ä–æ–∫)
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—á–∏—â–µ–Ω –∏ –ø—Ä–∏–≤–µ–¥—ë–Ω –≤ –ø–æ—Ä—è–¥–æ–∫

### 3. Git commit –∏ push ‚úÖ
- Commit `57c626b`: Cleanup and AI memory
- Push –≤ `origin/main`: –£—Å–ø–µ—à–Ω–æ
- Railway auto-deploy: –ó–∞–ø—É—â–µ–Ω

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Railway Dashboard (2 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app/project/f17da572-14c9-47b5-a9f1-1b6d5b6dea2d
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ Deployment status: **Active**
   - ‚úÖ Build logs: –Ω–µ—Ç –æ—à–∏–±–æ–∫
   - ‚úÖ Runtime logs: –≤–∏–¥–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è `[AUTOSTART]`, `[SCHEDULER]`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Web UI - Dashboard (1 –º–∏–Ω—É—Ç–∞)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/dashboard`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ "Last Scan" –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
   - ‚úÖ "Total Items" —Ä–∞—Å—Ç—ë—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã)
   - ‚úÖ "Active Searches" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: Web UI - Config (1 –º–∏–Ω—É—Ç–∞)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/config`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ "Query Delay (seconds)" - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ‚ö° –∏ —Ç–µ–∫—Å—Ç –ø—Ä–æ Railway Cron
   - ‚úÖ –ú–∏–Ω–∏–º—É–º —Ç–µ–ø–µ—Ä—å **30 —Å–µ–∫—É–Ω–¥** (–±—ã–ª–æ 60)
   - ‚úÖ "Category Filter" —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞—à blacklist

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: Web UI - Items (1 –º–∏–Ω—É—Ç–∞)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/items`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è
   - ‚úÖ –¢–æ–≤–∞—Ä—ã –∏–∑ blacklist –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ù–ï –ø–æ—è–≤–ª—è—é—Ç—Å—è
   - ‚úÖ –ü–æ–∏—Å–∫ –ø–æ ID —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –õ–æ–≥–∏ Railway (2 –º–∏–Ω—É—Ç—ã)

–û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard ‚Üí Logs –∏ –∏—â–∏—Ç–µ:

```
‚úÖ [AUTOSTART] Railway environment detected - starting scheduler...
‚úÖ [AUTOSTART] ‚úÖ Scheduler thread started in background
‚úÖ [SCHEDULER] ‚è∞ Entering main loop...
‚úÖ [SCHEDULER] Jobs scheduled: 4
‚úÖ [CONFIG] Category blacklist loaded: N categories
‚úÖ [SCHEDULER] ‚è∞ Loop alive! Iteration 30 (0 min uptime)
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:
```
‚úÖ [SEARCH] Searching with keyword: "..."
‚úÖ [SEARCH] Found N items for search "..."
‚úÖ [FILTER] ‚úÖ Item passed: m12345...
üö´ [FILTER] üö´ Item rejected: category '...' is blacklisted
```

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### Scheduler –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ (–∏–ª–∏ –≤–∞—à –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: `[SCHEDULER] ‚è∞ Loop alive!` –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

### Category Blacklist –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–∑ PostgreSQL
- ‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ (hot reload)
- ‚úÖ –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –î–û —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: `[FILTER] üö´ Item rejected`

### Web UI –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –≤ `/items`
- ‚úÖ –û–±–Ω–æ–≤–ª—è—Ç—å "Last Scan" –≤ `/dashboard`
- ‚úÖ –ü–æ–∑–≤–æ–ª—è—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å config –≤ `/config`
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º Query Delay = 30s

---

## üêõ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Scheduler –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–µ—Ç –ª–æ–≥–æ–≤ `[AUTOSTART]` –∏–ª–∏ `[SCHEDULER]`
- "Last Scan" –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ dashboard

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Railway Variables:
   ```
   RAILWAY_ENVIRONMENT=production
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏:
   ```
   grep "ERROR" –≤ Railway logs
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
   - Railway Dashboard ‚Üí Service ‚Üí Restart

### Blacklist –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
- –¢–æ–≤–∞—Ä—ã –∏–∑ blacklist –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –ë–î
- –ù–µ—Ç –ª–æ–≥–æ–≤ `[FILTER] üö´ Item rejected`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ blacklist –∑–∞–≥—Ä—É–∂–µ–Ω:
   ```
   –ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö: [CONFIG] Category blacklist loaded: N categories
   ```
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Web UI `/config` ‚Üí Category Filter
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è hot reload
4. –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

### Query Delay –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ò–∑–º–µ–Ω–∏–ª–∏ Query Delay –≤ Web UI
- Scheduler –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 60 —Å–µ–∫—É–Ω–¥ (hot reload)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `[CONFIG] Hot reload triggered`
3. –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

---

## üìä –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–º –¥–µ–ø–ª–æ–µ

### Commit 57c626b: Cleanup and AI memory
```
–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
+ AGENTS.md                           (409 —Å—Ç—Ä–æ–∫)
- AUTOSTART_FIX_SUMMARY.md           (—É–¥–∞–ª—ë–Ω)
- AUTOSTART_TROUBLESHOOTING.md       (—É–¥–∞–ª—ë–Ω)
- CRON_SETUP.md                      (—É–¥–∞–ª—ë–Ω)
- FINAL_SOLUTION.md                  (—É–¥–∞–ª—ë–Ω)
- FINAL_SUMMARY.md                   (—É–¥–∞–ª—ë–Ω)
- QUICK_START_GUIDE.md               (—É–¥–∞–ª—ë–Ω)
- RAILWAY_CHECK_RESULT.md            (—É–¥–∞–ª—ë–Ω)
- SCHEDULER_HANG_ANALYSIS.md         (—É–¥–∞–ª—ë–Ω)
- SHOPS_BLACKLIST_DEBUG.md           (—É–¥–∞–ª—ë–Ω)
- SOLUTION_SUMMARY.md                (—É–¥–∞–ª—ë–Ω)

–ò—Ç–æ–≥–æ: -1662 —Å—Ç—Ä–æ–∫
```

### Commit f531219: Query Delay fix
```
–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
M web_ui_plugin/templates/config.html

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- min="60" ‚Üí min="30" ‚ö°
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ—è—Å–Ω–µ–Ω–∏—è –ø—Ä–æ Railway Cron
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: 60-120s
```

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–û—Ç–º–µ—Ç—å—Ç–µ –∫–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ:

- [ ] Railway Dashboard: Deployment Active
- [ ] Web UI `/dashboard`: Last Scan –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [ ] Web UI `/config`: Query Delay –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç min=30s
- [ ] Web UI `/items`: –ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è
- [ ] Railway Logs: `[SCHEDULER] ‚è∞ Loop alive!` –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- [ ] Railway Logs: `[CONFIG] Category blacklist loaded`
- [ ] Railway Logs: `[FILTER]` —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ Railway Logs

---

## üéâ –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ Scheduler —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
- ‚úÖ Query Delay –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ—Ç 30 –¥–æ 3600 —Å–µ–∫—É–Ω–¥
- ‚úÖ Category Blacklist —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
- üìã –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
- üìù –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–≥–∏ Railway –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –°–º. `AGENTS.md` –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ
